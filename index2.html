<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tình Sử Phan Cao</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #ffe6f0, #ffe0e6);
      color: #c2185b;
      text-align: center;
      margin: 0;
      padding: 0 20px 40px;
    }

    .header-image {
      width: 100%;
      max-height: 400px;
      object-fit: cover;
    }

    h1 {
      font-size: 2.5em;
      margin: 20px 0 10px;
    }

    #counter {
      font-size: 1.3em;
      background-color: #fff0f5;
      padding: 15px 20px;
      border: 3px dashed #ff80aa;
      border-radius: 15px;
      margin: 20px auto 30px;
      max-width: 500px;
    }

    .slide {
      display: none;
      font-size: 1.2em;
      background: #fff0f5;
      padding: 25px;
      border-radius: 20px;
      margin: 0 auto 20px;
      max-width: 700px;
      box-shadow: 0 0 20px rgba(255, 105, 180, 0.2);
    }

    .slide.active {
      display: block;
    }

    .heart {
      font-size: 3em;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); opacity: 0.7; }
    }

    .hint {
      font-size: 0.9em;
      color: #888;
      margin-bottom: 40px;
    }

    .album-title {
      margin-top: 40px;
      font-size: 1.5em;
      color: #b30059;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      max-width: 1000px;
      margin: 20px auto;
    }

    .gallery img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      border-radius: 10px;
      background: #fff;
      box-shadow: 0 0 8px rgba(255, 0, 128, 0.15);
    }

    /* Ghi chú */
    .note-container {
      max-width: 700px;
      margin: 50px auto 0;
      background: #fff0f5;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(255, 0, 100, 0.1);
      text-align: left;
    }

    .note-container h2 {
      text-align: center;
      color: #c2185b;
    }

    .note-container input,
    .note-container textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 2px solid #ff80aa;
      border-radius: 10px;
      font-size: 1em;
      background-color: #fffafc;
      font-family: inherit;
    }

    .note-container button {
      background-color: #ff66a3;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      margin-right: 10px;
    }

    .note-container button:hover {
      background-color: #e05592;
    }

    .note-log {
      margin-top: 20px;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      border: 1px dashed #ff80aa;
      font-size: 0.95em;
      white-space: pre-wrap;
    }
  </style>
</head>
<body onclick="nextSlide()">

  <!-- Ảnh đầu trang -->
  <img src="https://lh5.googleusercontent.com/ymxF04NI83nPdSr23L4-7Uv_YbZQrQ1zKUYG4opFLk855PLZIwAA3iTXtJ51Ro6BUI3fAqIXCE3zIFSsWsqCYEvu6bMeUvZPtJq1Vz8aABgr34f8CrYbR9huzlBbtNGLowa3ARI-fBw=w1280" alt="Hoàng hậu nương nương" class="header-image">


  <h1>Tình Sử Trẫm & Hoàng Hậu</h1>
  
  <!-- Bộ đếm thời gian -->
  <div id="counter">Đang tính thời gian yêu nhau...</div>

  <!-- Các slide tình yêu (Trẫm có thể thay đổi nội dung từng dòng) -->
<div class="slide active">💌 <strong>Ngày đầu gặp gỡ</strong><br>Anh không nghĩ mình sẽ yêu được em...</div>
  <div class="slide">🌸 <strong>Lần đầu nắm tay</strong><br>Lần chủ động đó anh nghĩ mình đã năm trong tay cả thiên hạ.</div>
  <div class="slide">🌙 <strong>Lời quan tâm</strong><br>Lần quan tâm vu vơ đó anh nghĩ mình sẽ nhớ đến già đầu ...</div>
  <div class="slide">💍 <strong>Ngày chính thức yêu nhau – 06/06/2025</strong><br>Anh chọn ngày đẹp không phải để dễ nhớ , anh chọn ngày đẹp để mong chuyện tình mình đẹp như ngày .</div>
  <div class="slide">👑 <strong>Cùng nhau qua giông bão</strong><br>Tay trong tay, dù đời có trăm vạn đổi thay.</div>
  <div class="slide">❤️ <strong>Hiện tại</strong><br>Trẫm yêu nàng hơn bao giờ hết. Vĩnh viễn không đổi thay.</div>

  <div class="heart">💖</div>
  <div class="hint">(Nhấp vào màn hình để chuyển chương)</div>

  <!-- Album ảnh -->
  <div class="album-title">📷 Hình Ảnh Trẫm & Hoàng Hậu</div>
  <div class="gallery">
    <img src="z6795174974878_a311b7868db33948fa20bf81e8bc23b3.jpg" alt="Ảnh 1">
<img src="z6795174980987_4f906b7887c342c6adeb619224eacdff.jpg" alt="Ảnh 2">
<img src="z6795174986224_b33ba620bd11f2fc8e8500399e67aa93.jpg" alt="Ảnh 1">
<img src="z6795174986224_b33ba620bd11f2fc8e8500399e67aa93.jpg" alt="Ảnh 1">
<img src="z6795175003075_e3d0892b857f30f81ae9d7379f724219.jpg" alt="Ảnh 1">
<img src="z6795175004522_c1077cdb44e1775bb5e14f9241bf9960.jpg" alt="Ảnh 1">
<img src="z6795175007830_0415afdfdf7558973ae9eb53f61f8842.jpg" alt="Ảnh 1">
<img src="z6795175016614_5c54157cfd61733102f636d8a66b3f60.jpg" alt="Ảnh 1">
<img src="z6795175016614_5c54157cfd61733102f636d8a66b3f60.jpg" alt="Ảnh 1">
<img src="z6795175030992_46f34d07c2c3e27efc2dc95bf52e4042.jpg" alt="Ảnh 1">
<img src="z6795175031497_1b2ae195c53d75e7a0fc7a5f55252aa8.jpg" alt="Ảnh 1">
<img src="z6795175042121_710f57475a7ae9fe8de69ec69c795b51.jpg" alt="Ảnh 1">
<img src="z6795175047698_7f2b546e7c59a446e7159db175bb59b8.jpg" alt="Ảnh 1">
<img src="z6795175054425_b55d16966d242e0a4e026cf8e41c7651.jpg" alt="Ảnh 1">
<img src="z6795175062966_54088b932d01883c9e88a6aca3035182.jpg" alt="Ảnh 1">
<img src="z6795175064882_83e2728e1ed11f590b60f1012f4764dd.jpg" alt="Ảnh 1">
  </div>

  <!-- Ghi chú tình yêu -->
  <div class="note-container">
    <h2>📖 Ghi chú tình yêu hôm nay</h2>
    <input type="text" id="nickname" placeholder="Tên người ghi chú (ví dụ: Trẫm, Hoàng hậu...)">
    <textarea id="noteText" placeholder="Hôm nay là một ngày đáng nhớ..."></textarea>
    <button type="button" onclick="addNote()">💌 Lưu ghi chú</button>
    <button type="button" onclick="clearNotes()">🧹 Xóa tất cả</button>
    <div id="noteLog" class="note-log"></div>
  </div>

  <!-- Script -->
  <script>
    // Bộ đếm thời gian yêu nhau
    const loveStartDate = new Date(2025, 5, 6, 0, 0, 0); // 6/6/2025
    function updateCounter() {
      const now = new Date();
      let diff = now - loveStartDate;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      document.getElementById("counter").innerHTML =
        `⏳ Đã bên nhau được <strong>${days}</strong> ngày, <strong>${hours}</strong> giờ, <strong>${minutes}</strong> phút, <strong>${seconds}</strong> giây ❤️`;
    }
    setInterval(updateCounter, 1000);
    updateCounter();

    // Slide
    const slides = document.querySelectorAll('.slide');
    let current = 0;
    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === index);
      });
    }
    function nextSlide() {
      current = (current + 1) % slides.length;
      showSlide(current);
    }

    // Ghi chú có lưu LocalStorage
   <script>
  const sheetAPI = "https://script.google.com/macros/s/AKfycbz4i_W4Djj57oTW2ZNAK6uyKSAIl9hiZ9qJ3jzvkXdFES49Cv-XrkU2N7rIA2Uelx8y/exec";

  // Gửi ghi chú vào Google Sheet
  function addNote() {
    const nick = document.getElementById('nickname').value.trim();
    const text = document.getElementById('noteText').value.trim();
    if (!nick || !text) {
      alert("Vui lòng điền cả tên và ghi chú.");
      return;
    }

    const data = {
      name: nick,
      note: text
    };

    fetch(sheetAPI, {
      method: "POST",
      body: JSON.stringify(data),
    })
    .then(res => res.text())
    .then(msg => {
      alert("💖 Ghi chú đã được lưu thành công!");
      document.getElementById('nickname').value = "";
      document.getElementById('noteText').value = "";
      loadNotes(); // Cập nhật lại ghi chú sau khi thêm
    })
    .catch(err => {
      console.error(err);
      alert("❌ Lỗi khi gửi ghi chú. Kiểm tra lại kết nối hoặc Apps Script.");
    });
  }

  // Tải ghi chú từ Google Sheets
  function loadNotes() {
    fetch("https://docs.google.com/spreadsheets/d/1gfiq9GSkd5zCv_xWrg0KpQh3u1YFSkPQ60hzBYAm5eg/gviz/tq?tqx=out:json") // ← Thay ID nếu khác
      .then(res => res.text())
      .then(text => {
        const json = JSON.parse(text.substring(47).slice(0, -2));
        const rows = json.table.rows;
        let html = "";
        rows.reverse().forEach(row => {
          const name = row.c[0]?.v || 'Ẩn danh';
          const time = row.c[1]?.f || 'Không rõ';
          const note = row.c[2]?.v || '';
          html += `<div class="note-entry">🖋️ <strong>${name}</strong> (${time}):<br>${note}<hr></div>`;
        });
        document.getElementById("noteLog").innerHTML = html;
      })
      .catch(err => {
        console.error("Lỗi khi tải ghi chú", err);
      });
  }

  window.onload = loadNotes;
</script>

</body>
</html>
